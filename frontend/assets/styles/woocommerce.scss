/**
 * woocommerce.scss
 * Governs the general look and feel of WooCommerce sections of stores using themes that do not
 * integrate with WooCommerce specifically. */
/**
 * Imports */
@import "variables";
@import "base/functions";
@import "base/mixins";
@import "variables";
@import "../../node_modules/bulma/sass/utilities/functions";
@import "../../node_modules/bulma/sass/utilities/mixins.sass";
@import "../../node_modules/bulma/sass/utilities/derived-variables.sass";
@import "../../node_modules/bulma/sass/utilities/animations.sass";
@import "../../node_modules/bulma/sass/utilities/controls.sass";

@import "components/button";
@import "../fonts/icomoon/variables";
@import "woocommerce/mixins";
@import "woocommerce/variables";
@import "woocommerce/animation";
@import "woocommerce/fonts";
@import "woocommerce/select2";
@import "woocommerce/wc-quantity-increment";
@import "woocommerce/layout";
@import "woocommerce/table";
@import "woocommerce/tabs";
@import "woocommerce/form";
@import "woocommerce/button";
@import "woocommerce/cart";
@import "woocommerce/products";
@import "woocommerce/review";
@import "woocommerce/smallscreen";

[class^="wpion-"], [class*=" wpion-"] {
    /* use !important to prevent issues with browser extensions that change fonts */
    font-family: 'icomoon' !important;
    speak: none;
    font-style: normal;
    font-weight: normal;
    font-variant: normal;
    text-transform: none;
    line-height: 1;

    /* Better Font Rendering =========== */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/**
 * Global styles */
p.demo_store,
.woocommerce-store-notice {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    margin: 0;
    width: 100%;
    font-size: 1em;
    padding: 1em 0;
    text-align: center;
    background-color: $woocommerce;
    color: $primarytext;
    z-index: 99998;
    box-shadow: 0 1px 1em rgba(0, 0, 0, 0.2);
    display: none;

    a {
        color: $primarytext;
        text-decoration: underline;
    }
}

.admin-bar p.demo_store {
    top: 32px;
}

.screen-reader-text {
    clip: rect(1px, 1px, 1px, 1px);
    height: 1px;
    overflow: hidden;
    position: absolute !important;
    width: 1px;
    word-wrap: normal !important;
}


/**
 * Utility classes */
.clear {
    clear: both;
}

.woocommerce #payment #place_order,
.woocommerce-page #payment #place_order {
    float: none;
}

.woocommerce-page {
    @apply bg-white;

    .quantity.hidden {
        display: none;
    }
}


/**
 * Main WooCommerce styles */
.woocommerce {
    .blockUI.blockOverlay {
        position: relative;

        @include loader;
    }

    .loader {
        @include loader;
    }

    a.remove {
        @apply mr-4;
        font-size: 1.5em;
        height: 1em;
        width: 1em;
        text-align: center;
        line-height: 1;
        border-radius: 100%;
        color: red !important;

        // Required for default theme compatibility
        text-decoration: none;
        font-weight: 500;
        border: 0;
        font-family: monospace;

        &:hover {
            color: #fff !important;

            // Required for default theme compatibility
            background: red;
        }

        @screen md {
            @apply block mx-auto mr-0;
        }
    }

    small.note {
        display: block;
        color: $subtext;
        font-size: $text-small-font-size;
        margin-top: 10px;
    }

    #TB_title {
        background: transparent;
        border: none;
    }

    #TB_ajaxContent {
        box-sizing: content-box;
        width: auto !important;
        height: auto !important;
        max-height: 600px;
        padding: 0 32px 15px 32px;
    }

    #TB_closeWindowButton {
        &:focus {
        }
    }

    .thickbox-loading {
        .product_list_widget li {
            @apply py-4;
        }
    }

    .checkout_coupon {
        @apply bg-white;
    }

    .page-title {
        @apply text-xl mb-4;
    }

    span.onsale {
        @apply inline-block absolute px-1 m-0 bg-red-600;
        text-align: center;
        top: -0.5em;
        left: -0.5em;
        color: $highlightext;
        font-size: small;
        z-index: 9;
    }


    //===================================
    // 表单
    //===================================
    ul#shipping_method {
        list-style: none outside;
        margin: 0;
        padding: 0;

        li {
            margin: 0;
            padding: 0.25em 0 0.25em 22px;
            text-indent: -22px;
            list-style: none outside;

            input {
                margin: 3px 0.5ex;
            }

            label {
                display: inline;
            }
        }

        .amount {
            font-weight: 700;
        }
    }

    p.woocommerce-shipping-contents {
        margin: 0;
    }

    /**
     * Order page */
    ul.order_details {
        margin-top: 1px;
        margin-left: 1px;
        @apply text-sm flex flex-wrap flex-grow mb-6 list-none;

        li {
            margin-top: -1px;
            margin-left: -1px;
            @apply border-t border-b border-gray-300 uppercase leading-none list-none text-sm py-3 w-full;

            @screen sm{
                @apply w-1/2 py-4;
            }

            @screen md{
                @apply w-1/5;
            }

            @screen lg{
                @apply w-1/5;
            }

            strong {
                @apply block text-base normal-case leading-normal mt-1 break-all;
            }
        }
    }

}

.woocommerce-product-rating {
    margin-bottom: 1.618em;
}

.woocommerce-MyAccount-downloads {
    td,
    th {
        vertical-align: top;
        text-align: center;

        &:first-child {
            text-align: left;
        }

        &:last-child {
            text-align: left;
        }

        .woocommerce-MyAccount-downloads-file::before {
            content: "↓";
            display: inline-block;
        }
    }
}

.woocommerce-breadcrumb {
    @include clearfix;

    margin: 0 0 1em;
    padding: 0;
    font-size: 0.92em;
    color: $subtext;

    a {
        color: $subtext;
    }
}

.woocommerce-ordering {
    @apply relative;
    select {
        vertical-align: top;
        padding-right: 1.5em !important;
    }

    &:after {
        font-family: 'icomoon', sans-serif;
        content: $wpion-angle-down;
        top: .2em;
        right: 0.55em;
        z-index: 4;
        font-size: 1.25em;
        position: absolute;
        @apply text-gray-600;
    }
}

nav.woocommerce-pagination {
    text-align: center;

    ul {
        display: inline-block;
        white-space: nowrap;
        padding: 0;
        clear: both;
        border: 1px solid darken($secondary, 10%);
        border-right: 0;
        margin: 1px;

        li {
            border-right: 1px solid darken($secondary, 10%);
            padding: 0;
            margin: 0;
            float: left;
            display: inline;
            overflow: hidden;

            a,
            span {
                margin: 0;
                text-decoration: none;
                line-height: 1;
                font-size: 1em;
                font-weight: normal;
                padding: 0.5rem 0.75rem;
                min-width: 1em;
                display: block;
            }

            span.current,
            a:hover,
            a:focus {
                background: $secondary;
                color: darken($secondary, 40%);
            }
        }
    }
}


.woocommerce-order-overview__email {
    @include tablet {
        flex-grow: 1;
    }
}

.wc-bacs-bank-details-account-name {
    font-weight: bold;
}

.woocommerce-order-downloads,
.woocommerce-customer-details,
.woocommerce-order-details {
    margin-bottom: 2em;

    *:last-child {
        margin-bottom: 0;
    }
}

.woocommerce-order-downloads__title{
    @apply mb-2;
}

.woocommerce-customer-details {
    address {
        font-style: normal;
        margin-bottom: 0;
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-bottom-width: 2px;
        border-right-width: 2px;
        text-align: left;
        width: 100%;
        padding: 6px 12px;
    }

    .woocommerce-customer-details--phone,
    .woocommerce-customer-details--email {
        margin-bottom: 0;
        padding-left: 1.5em;
    }

    .woocommerce-customer-details--phone::before {
        @include iconbefore("");

        margin-left: -1.5em;
        line-height: 1.75;
        position: absolute;
    }

    .woocommerce-customer-details--email::before {
        @include iconbefore("");

        margin-left: -1.5em;
        line-height: 1.75;
        position: absolute;
    }
}


.woocommerce-no-js {
    form.woocommerce-form-login,
    form.woocommerce-form-coupon {
        display: block !important;
    }

    .woocommerce-form-login-toggle,
    .woocommerce-form-coupon-toggle,
    .showcoupon {
        display: none !important;
    }
}

.woocommerce-message,
.woocommerce-error,
.woocommerce-info {

    padding: 1em 2em 1em 3.5em;
    margin: 0 0 2em;
    position: relative;
    color: $secondarytext;
    list-style: none outside;
    border-top: 3px solid;

    @include clearfix;

    width: auto;
    word-wrap: break-word;

    &::before {
        font-family: "WooCommerce";
        content: "";
        display: inline-block;
        position: absolute;
        top: 1em;
        left: 1.5em;
    }

    .button {
        float: right;
    }

    li {
        list-style: none outside !important;

        // Required for default theme compatibility
        padding-left: 0 !important;

        // Required for default theme compatibility
        margin-left: 0 !important;

        // Required for default theme compatibility

    }
}

.woocommerce-message {
    @apply border-green-600 bg-green-100;

    &::before {
        content: "";
        color: #8fae1b;
    }
}

.woocommerce-info {
    @apply border-blue-600 bg-blue-100;

    &::before {
        color: #1e85be;
    }
}

.woocommerce-error {
    @apply border-red-600 bg-red-100;
    margin-left: 0 !important;

    &::before {
        content: "";
        color: #b81c23;
    }
}

/**
 * Right to left styles */
.rtl.woocommerce {
    div.product div.images .flex-control-thumbs li {
        float: right;
    }

    .price_label span {
        unicode-bidi: embed;

        /* rtl:ignore */
        direction: ltr;
    }
}

//===================================
// 购物车，结账页面
//===================================
.woocommerce-cart,
.woocommerce-checkout,
#add_payment_method {

    .wc-proceed-to-checkout {
        padding: 1rem 0;

        .checkout-button {
            width: 100%;
            @apply py-2;
            height: auto;
        }

        a.checkout-buttons {
            display: block;
            text-align: center;
            margin-bottom: 1em;
            font-size: 1.25em;
        }
    }

    .cart-collaterals {
        .shipping_calculator {
            .button {
                width: 100%;
                float: none;
                display: block;
            }

            .shipping-calculator-button::after {
                @include iconafter("");
            }
        }

        .cart_totals {
            & > h2 {
                @apply mt-6 mb-2 text-base;
            }

            p small {
                color: $subtext;
                font-size: 0.83em;
            }
        }

        .cross-sells ul.products li.product {
            margin-top: 0;
        }
    }

    .checkout {
        .col-2 {
            h3#ship-to-different-address {
                float: left;
                clear: none;
            }

            .notes {
                clear: left;
            }

            .form-row-first {
                clear: left;
            }
        }

        .create-account small {
            font-size: 11px;
            color: $subtext;
            font-weight: normal;
        }

        div.shipping-address {
            padding: 0;
            clear: left;
            width: 100%;
        }

        .shipping_address {
            clear: both;
        }
    }

    #payment {
        //@apply bg-gray-200;
        //border-radius: 5px;

        ul.payment_methods {
            @include clearfix;
            //@apply text-left p-6 pb-2 m-0;
            //border-bottom: 1px solid theme('colors.gray.300');
            list-style: none outside;

            li {
                @apply leading-loose text-left m-0 font-normal;

                input {
                    @apply mr-2;
                }

                img {
                    vertical-align: middle;
                    margin: (-2px) 0 0 0.5em;
                    padding: 0;
                    position: relative;
                    box-shadow: none;
                }

                img + img {
                    margin-left: 2px;
                }
            }

            li:not(.woocommerce-notice) {
                @include clearfix;
            }
        }

        div.form-row {
            @apply py-6;
        }

        div.payment_box {
            box-sizing: border-box;
            display: none !important;
            @apply relative p-4 my-4 w-full text-sm text-gray-600;
            border-radius: 2px;
            line-height: 1.5;
            background-color: theme('colors.white');

            &::before {
                content: "";
                display: block;
                border: 1em solid theme('colors.white');
                border-right-color: transparent;
                border-left-color: transparent;
                border-top-color: transparent;
                position: absolute;
                top: -0.75em;
                left: 0;
                margin: (-1em) 0 0 2em;
            }

            input.input-text, textarea {
                border-color: darken($secondary, 15%);
                border-top-color: darken($secondary, 20%);
            }

            ::-webkit-input-placeholder {
                color: darken($secondary, 20%);
            }

            :-moz-placeholder {
                color: darken($secondary, 20%);
            }

            :-ms-input-placeholder {
                color: darken($secondary, 20%);
            }

            .woocommerce-SavedPaymentMethods {
                list-style: none outside;
                margin: 0;

                .woocommerce-SavedPaymentMethods-token,
                .woocommerce-SavedPaymentMethods-new {
                    margin: 0 0 0.5em;

                    label {
                        cursor: pointer;
                    }
                }

                .woocommerce-SavedPaymentMethods-tokenInput {
                    vertical-align: middle;
                    margin: (-3px) 1em 0 0;
                    position: relative;
                }
            }

            .wc-credit-card-form {
                border: 0;
                padding: 0;
                margin: 1em 0 0;
            }

            .wc-credit-card-form-card-number,
            .wc-credit-card-form-card-expiry,
            .wc-credit-card-form-card-cvc {
                font-size: 1.5em;
                padding: 8px;
                background-repeat: no-repeat;
                background-position: right 0.618em center;
                background-size: 32px 20px;

                &.visa {
                    background-image: url("../images/icons/credit-cards/visa.svg");
                }

                &.mastercard {
                    background-image: url("../images/icons/credit-cards/mastercard.svg");
                }

                &.laser {
                    background-image: url("../images/icons/credit-cards/laser.svg");
                }

                &.dinersclub {
                    background-image: url("../images/icons/credit-cards/diners.svg");
                }

                &.maestro {
                    background-image: url("../images/icons/credit-cards/maestro.svg");
                }

                &.jcb {
                    background-image: url("../images/icons/credit-cards/jcb.svg");
                }

                &.amex {
                    background-image: url("../images/icons/credit-cards/amex.svg");
                }

                &.discover {
                    background-image: url("../images/icons/credit-cards/discover.svg");
                }
            }

            span.help {
                font-size: 0.857em;
                color: $subtext;
                font-weight: normal;
            }

            .form-row {
                margin: 0 0 1em;
            }

            p:last-child {
                margin-bottom: 0;
            }

        }

        .payment_method_paypal {
            .about_paypal {
                float: right;
                line-height: 52px;
                font-size: 0.83em;
            }

            img {
                max-height: 52px;
                vertical-align: middle;
            }
        }
    }
}

.woocommerce-cart {
    .cart-subtotal {
        th, td {
            border-top-width: 3px !important;
            border-bottom-width: 0 !important;
        }
    }

    .order-total {
        th, td {
            border-bottom-width: 1px;
        }
    }
}

form.woocommerce-checkout {
    #order_review_heading {
        @apply hidden;
    }

    #customer_details {
        @screen md {
            @apply float-left;
            width: 57%;
        }
    }

    .woocommerce-checkout-review-order {
        @apply p-8 bg-gray-100 border-2 border-blue-800;

        @screen md {
            @apply ml-8 float-right;
            width: calc(43% - 2rem);
            max-width: 480px;
        }
    }
}

.product-category,
.type-product {
    .c-product__image {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 200px;
    }
}

.wc-checkout-form {
    h3,
    &__title {
        font-weight: 300;
        font-size: $h3-font-size;
    }
}

.woocommerce-order-details__title,
.woocommerce-column__title {
    @apply font-light text-xl mb-4;
}

.woocommerce-checkout-payment {
    @apply mt-8;
}

.woocommerce-billing-fields {
    @apply mb-4;
}

.woocommerce-loop-product__title,
.woocommerce-loop-category__title {
    @apply text-base font-normal mt-2 text-gray-800;
    @include fix-height(1.5, 46px, 2);

    mark {
        font-weight: 400;
    }
}

.woocommerce ul.products li.product .price {
    @apply my-2;
    .amount {
        @apply text-base font-medium;
    }
}

.woocommerce-loop-product__link {
    img {
        @apply mx-auto;
    }
}

.woocommerce-terms-and-conditions {
    border: 1px solid rgba(0, 0, 0, 0.2);
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
    background: rgba(0, 0, 0, 0.05);
}

.woocommerce-invalid {
    #terms {
        outline: 2px solid red;
        outline-offset: 2px;
    }
}

/**
 * Password strength meter */
.woocommerce-password-strength {
    text-align: center;
    font-weight: 600;
    padding: 3px 0.5em;
    font-size: 1em;

    &.strong {
        background-color: #c1e1b9;
        border-color: #83c373;
    }

    &.short {
        background-color: #f1adad;
        border-color: #e35b5b;
    }

    &.bad {
        background-color: #fbc5a9;
        border-color: #f78b53;
    }

    &.good {
        background-color: #ffe399;
        border-color: #ffc733;
    }
}

.woocommerce-password-hint {
    margin: 0.5em 0 0;
    display: block;
}

.variations_form {
    flex-wrap: wrap;

    &__select {
        min-width: 75%;
        width: auto !important;
        box-shadow: none;
        margin-right: 1em;
        color: $text-light;
    }
}

.woocommerce-variation-add-to-cart {
    display: flex;
}

.woocommerce-variation-price {
    @apply mb-2;
}

.woocommerce-notice {
    &--success {
        @extend .woocommerce-message;
    }
}

.woocommerce-orders-table__cell-order-actions {
    .button {
        @apply text-sm;
        & + .button {
            @apply ml-2;
        }
    }
}

.woocommerce-Address {
    border: 1px solid $border;

    &-title {
        @apply px-4 py-3 flex justify-between leading-normal;
        border-bottom: 1px solid $border;

        h3 {
            flex-grow: 1;
            font-size: 1rem;
        }

        .edit {
            font-size: 0.875rem;
        }
    }

    address {
        @apply p-4;
    }
}

// 我的账户页面
.woocommerce-account {

    .woocommerce {
        @include clearfix;
    }

    ol.commentlist.notes li.note {
        p.meta {
            font-weight: 700;
            margin-bottom: 0;
        }

        .description p:last-child {
            margin-bottom: 0;
        }
    }

    ul.digital-downloads {
        margin-left: 0;
        padding-left: 0;

        li {
            list-style: none;
            margin-left: 0;
            padding-left: 0;

            &::before {
                @include iconbefore("");
            }

            .count {
                float: right;
            }
        }
    }

}

.woocommerce-MyAccount {

    &-navigation {
        @apply w-1/5 shadow;

        ul {
            @apply bg-white p-4;

            li {
                a {
                    @apply px-2 py-1 block text-gray-700;
                }

                &.is-active {
                    a {
                        @apply text-blue-800 font-medium;
                    }
                }
            }
        }

        @include tablet {
            @apply float-left;
        }

        @include mobile {
            @apply w-full;

            ul {
                @apply flex flex-wrap;

                li {
                    @apply w-1/3 flex-shrink-0;

                    &.is-active {
                        @apply bg-transparent;
                        a {
                            color: $woocommerce;
                        }
                    }
                }
            }
        }

    }

    &-content {
        width: 78%;
        min-height: 448px;
        @apply bg-white p-8 shadow;
        border-top: 6px solid theme('colors.gray.400');
        @include tablet {
            float: right;
        }

        @include mobile {
            @apply w-full mt-8;
        }

        form{
            button[type=submit]{
                @apply mt-4;
            }
        }
    }
}

.required {
    color: red;
    font-weight: 700;
    border: 0 !important;
    text-decoration: none;
}


#customer_details {
    @apply mb-8 p-0;

    .col-1,
    .col-2 {
        width: 100%;
        float: none;
    }
}

.product_type_grouped,
.product_type_variable {
    @extend [class^="wpion-"];
    color: #999;
    min-width: 44px;

    &:before {
        content: $wpion-info1;
    }
}

// 订单详情
.woocommerce-order-details {

}

//===================================
// 用户资料卡片
//===================================
.wc-profile-card {
    @apply text-center bg-gray-300 p-8;

    img {
        @apply mx-auto;
    }

    &__name {
        @apply mt-2;
    }

    @include mobile {
        @apply flex items-center p-4;
        img {
            @apply m-0;
            width: 80px;
        }
        &__name {
            @apply pl-4 mt-0;
        }
    }

    @include tablet {
        @apply p-4;
    }

    @include tablet {
        @apply p-8;
    }
}


.woocommerce-product-details__short-description {
    @apply mb-8;
}

.woocommerce-Address {
    @include mobile {
        & + .woocommerce-Address {
            @apply mt-8;
        }
    }
}

.brandbar--woo {

    @include desktop {
        @apply p-4;
    }

    .c-searchform {
        .c-input {
            .input {
                border: 2px solid $woocommerce;
                box-shadow: none;
            }
        }

        .button.is-primary {
            background: $woocommerce;
        }
    }
}

.navbar--woo {
    background: #fff !important;
    border-bottom: 2px solid $woocommerce;
}

.navbar-item--woo {
    background: $woocommerce;

    & > a.navbar-link {
        background: $woocommerce !important;
        color: #fff !important;
        width: 100%;

        &:after {
            border-color: #fff;
        }
    }

    .navbar-dropdown {
        &:before,
        &:after {
            content: none;
        }
    }
}

.home {
    .navbar-item--woo {
        .navbar-dropdown {
            opacity: 1;
            pointer-events: auto;
            top: calc(100% + 2px);
            transform: none;
        }
    }
}

.woocommerce div.product p.price {
    @apply text-xl;
}

.woocommerce-product-details__short-description {
    @apply mt-6 mb-4 text-base;
}

ul.payment_methods li img {
    display: inline-block;
}

//#place_order {
//    @apply mt-4 text-base;
//}

.woocommerce-pagination {
    @apply mt-8;
}

.woocommerce-order-pay {
    .woocommerce {
        @apply w-full mx-auto;
        @screen md {
            @apply w-2/3;
        }

        #payment {
            @apply mt-8;
        }
    }
}


.c-product {
    padding: 16px;
    background: #fff;
    box-shadow: 0 0 1px 0 rgba(0, 0, 0, .5);
    min-height: 100%;

    &__image {
        flex-wrap: wrap;
        position: relative;
    }

    &__content {
        text-align: center;
        padding: 8px 0 0;
    }

    &__footer {

    }

    &__price {
        text-align: center;
        @apply mt-2;
    }

    &__action {
        @apply p-2;
        align-self: flex-end;
        position: absolute;
        width: 100%;
        @apply p-2;
        background: rgba(0, 0, 0, .5);
        opacity: 0;
        transition: .3s;
    }

    &__info {
        text-align: center;
        margin-top: 8px;
    }

    .woocommerce-Price-amount {
        color: $primary;
        font-size: 16px;
        font-weight: 400;
    }

    del {
        .woocommerce-Price-amount {
            color: theme('colors.gray.600');
            font-weight: 300;
        }
    }

    &:hover {
        outline: 1px solid $primary;
        position: relative;
        z-index: 1;

        a {
            color: $primary;
        }
    }
}

.woocommerce-account {
    @apply bg-gray-100;
}

.woocommerce-Addresses {
    @apply mt-4;
}

.woocommerce-result-count {
    @apply text-gray-600 text-base;
}

.place-order {
    padding: 16px 0 0 !important
}

.woocommerce-privacy-policy-text {
    @apply text-gray-600;
}

.woocommerce-product-details__short-description p {
    margin-bottom: 1em;
}

.wc_payment_method {
    @apply inline-block p-4 bg-gray-200 border border-gray-300 rounded;
}
